



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for DERIVA software.">
      
      
        <link rel="canonical" href="https://informatics-isi-edu.github.io/deriva-docs/hatrac_documentation/HOWTO/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../images/favicon.ico">
      <meta name="generator" content="mkdocs-0.17.4, mkdocs-material-2.9.2">
    
    
      
        <title>Other HOWTO information - DERIVA Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.ba0fd1a6.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#hatrac-how-to" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://informatics-isi-edu.github.io/deriva-docs/" title="DERIVA Documentation" class="md-header-nav__button md-logo">
          
            <img src="../../images/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                DERIVA Documentation
              </span>
              <span class="md-header-nav__topic">
                Other HOWTO information
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../../images/logo.png" width="48" height="48">
      
    </span>
    DERIVA Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../about/" title="About DERIVA" class="md-nav__link">
      About DERIVA
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../framework/" title="DERIVA Framework" class="md-nav__link">
      DERIVA Framework
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Using DERIVA
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Using DERIVA
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../users-guide/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../users-guide/using-chaise/" title="Using Chaise" class="md-nav__link">
      Using Chaise
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../users-guide/managing-data/" title="Managing Data" class="md-nav__link">
      Managing Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../users-guide/managing-catalogs/" title="Managing Catalogs" class="md-nav__link">
      Managing Catalogs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      Reference Section
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Reference Section
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-1" type="checkbox" id="nav-5-1">
    
    <label class="md-nav__link" for="nav-5-1">
      deriva-py
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-1">
        deriva-py
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../deriva-py_documentation/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deriva-py_documentation/install/" title="Installing deriva-py" class="md-nav__link">
      Installing deriva-py
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deriva-py_documentation/deriva-upload/" title="Upload tool (deriva-upload)" class="md-nav__link">
      Upload tool (deriva-upload)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deriva-py_documentation/deriva-hatrac-cli/" title="Interact with Hatrac object store (deriva-hatrac-cli)" class="md-nav__link">
      Interact with Hatrac object store (deriva-hatrac-cli)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deriva-py_documentation/deriva-acl-config/" title="Configure ACLs (deriva-acl-config)" class="md-nav__link">
      Configure ACLs (deriva-acl-config)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deriva-py_documentation/deriva-annotation-config/" title="Configure annotations (deriva-annotation-config)" class="md-nav__link">
      Configure annotations (deriva-annotation-config)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deriva-py_documentation/api/" title="API Docs" class="md-nav__link">
      API Docs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2">
    
    <label class="md-nav__link" for="nav-5-2">
      deriva-qt
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-5-2">
        deriva-qt
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../deriva-py_documentation/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deriva-py_documentation/install/" title="Installing GUIs" class="md-nav__link">
      Installing GUIs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deriva-py_documentation/deriva-auth/" title="Using DERIVA-Auth" class="md-nav__link">
      Using DERIVA-Auth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deriva-py_documentation/deriva-upload/" title="Using DERIVA-Upload" class="md-nav__link">
      Using DERIVA-Upload
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3">
    
    <label class="md-nav__link" for="nav-5-3">
      ERMrest
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-5-3">
        ERMrest
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ermrest_documentation/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3-2" type="checkbox" id="nav-5-3-2">
    
    <label class="md-nav__link" for="nav-5-3-2">
      User Docs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="6">
      <label class="md-nav__title" for="nav-5-3-2">
        User Docs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ermrest_documentation/user-doc/install-redhat/" title="Installing on Red Hat-derived Linux" class="md-nav__link">
      Installing on Red Hat-derived Linux
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ermrest_documentation/user-doc/annotation/" title="Model Annotation" class="md-nav__link">
      Model Annotation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ermrest_documentation/user-doc/tuning/" title="Performance Tuning" class="md-nav__link">
      Performance Tuning
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ermrest_documentation/user-doc/ermrest-registry-purge/" title="ermrest-registry-purge command" class="md-nav__link">
      ermrest-registry-purge command
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ermrest_documentation/user-doc/ermrest-client-table/" title="System Table `ermrest_client`" class="md-nav__link">
      System Table `ermrest_client`
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ermrest_documentation/user-doc/history-track/" title="History Tracking for DBAs and Programmers" class="md-nav__link">
      History Tracking for DBAs and Programmers
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3-3" type="checkbox" id="nav-5-3-3">
    
    <label class="md-nav__link" for="nav-5-3-3">
      ERMrest API and Service Semantics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="7">
      <label class="md-nav__title" for="nav-5-3-3">
        ERMrest API and Service Semantics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ermrest_documentation/api-doc/" title="Guide to the ERMrest API" class="md-nav__link">
      Guide to the ERMrest API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ermrest_documentation/api-doc/rest-catalog/" title="ERMrest Catalog Operations" class="md-nav__link">
      ERMrest Catalog Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3-3-3" type="checkbox" id="nav-5-3-3-3">
    
    <label class="md-nav__link" for="nav-5-3-3-3">
      ERMrest Model Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="10">
      <label class="md-nav__title" for="nav-5-3-3-3">
        ERMrest Model Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ermrest_documentation/api-doc/model/naming/" title="ERMrest Model Resource Naming" class="md-nav__link">
      ERMrest Model Resource Naming
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ermrest_documentation/api-doc/model/rest/" title="ERMrest Model Operations" class="md-nav__link">
      ERMrest Model Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ermrest_documentation/api-doc/model/system-columns/" title="ERMrest Standard System Columns" class="md-nav__link">
      ERMrest Standard System Columns
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3-3-4" type="checkbox" id="nav-5-3-3-4">
    
    <label class="md-nav__link" for="nav-5-3-3-4">
      ERMrest Access Control
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="11">
      <label class="md-nav__title" for="nav-5-3-3-4">
        ERMrest Access Control
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ermrest_documentation/api-doc/acl/concepts/" title="Access Concepts" class="md-nav__link">
      Access Concepts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ermrest_documentation/api-doc/acl/static/" title="Static Model-Based Policies" class="md-nav__link">
      Static Model-Based Policies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ermrest_documentation/api-doc/acl/dynamic/" title="Dynamic Data-Dependent Policies" class="md-nav__link">
      Dynamic Data-Dependent Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3-3-5" type="checkbox" id="nav-5-3-3-5">
    
    <label class="md-nav__link" for="nav-5-3-3-5">
      Client-Specific Rights
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="12">
      <label class="md-nav__title" for="nav-5-3-3-5">
        Client-Specific Rights
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ermrest_documentation/api-doc/acl/rights/" title="Rights Summaries" class="md-nav__link">
      Rights Summaries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3-3-5-2" type="checkbox" id="nav-5-3-3-5-2">
    
    <label class="md-nav__link" for="nav-5-3-3-5-2">
      ERMrest Data Resources
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="14">
      <label class="md-nav__title" for="nav-5-3-3-5-2">
        ERMrest Data Resources
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ermrest_documentation/api-doc/data/naming/" title="ERMrest Data Resources" class="md-nav__link">
      ERMrest Data Resources
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ermrest_documentation/api-doc/data/rest/" title="ERMrest Data Operations" class="md-nav__link">
      ERMrest Data Operations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3-3-5-3" type="checkbox" id="nav-5-3-3-5-3">
    
    <label class="md-nav__link" for="nav-5-3-3-5-3">
      ERMrest History Management
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="15">
      <label class="md-nav__title" for="nav-5-3-3-5-3">
        ERMrest History Management
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ermrest_documentation/api-doc/history/naming/" title="ERMrest History Management Resources" class="md-nav__link">
      ERMrest History Management Resources
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ermrest_documentation/api-doc/history/rest/" title="ERMrest History Management Operations" class="md-nav__link">
      ERMrest History Management Operations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-4" type="checkbox" id="nav-5-4" checked>
    
    <label class="md-nav__link" for="nav-5-4">
      Hatrac
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="5">
      <label class="md-nav__title" for="nav-5-4">
        Hatrac
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-4-2" type="checkbox" id="nav-5-4-2" checked>
    
    <label class="md-nav__link" for="nav-5-4-2">
      User Docs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="7">
      <label class="md-nav__title" for="nav-5-4-2">
        User Docs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../INSTALL/" title="Installing on Red Hat-derived Linux" class="md-nav__link">
      Installing on Red Hat-derived Linux
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Other HOWTO information
      </label>
    
    <a href="./" title="Other HOWTO information" class="md-nav__link md-nav__link--active">
      Other HOWTO information
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#background" title="Background" class="md-nav__link">
    Background
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" title="Examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deploying" title="Deploying" class="md-nav__link">
    Deploying
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authentication-using-database-providers" title="Authentication using Database Providers" class="md-nav__link">
    Authentication using Database Providers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#listing-the-root-namespace" title="Listing the Root Namespace" class="md-nav__link">
    Listing the Root Namespace
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-nested-namespace" title="Creating a Nested Namespace" class="md-nav__link">
    Creating a Nested Namespace
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-an-object" title="Creating an Object" class="md-nav__link">
    Creating an Object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retrieving-an-object" title="Retrieving an Object" class="md-nav__link">
    Retrieving an Object
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#retrieving-object-metadata-too" title="Retrieving Object Metadata Too" class="md-nav__link">
    Retrieving Object Metadata Too
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-an-object" title="Updating an Object" class="md-nav__link">
    Updating an Object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retrieving-an-object-version" title="Retrieving an Object Version" class="md-nav__link">
    Retrieving an Object Version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleting-an-object-version" title="Deleting an Object Version" class="md-nav__link">
    Deleting an Object Version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleting-an-object" title="Deleting an Object" class="md-nav__link">
    Deleting an Object
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../REST-API/" title="Hatrac API and Service Semantics" class="md-nav__link">
      Hatrac API and Service Semantics
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#background" title="Background" class="md-nav__link">
    Background
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" title="Examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deploying" title="Deploying" class="md-nav__link">
    Deploying
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authentication-using-database-providers" title="Authentication using Database Providers" class="md-nav__link">
    Authentication using Database Providers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#listing-the-root-namespace" title="Listing the Root Namespace" class="md-nav__link">
    Listing the Root Namespace
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-nested-namespace" title="Creating a Nested Namespace" class="md-nav__link">
    Creating a Nested Namespace
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-an-object" title="Creating an Object" class="md-nav__link">
    Creating an Object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retrieving-an-object" title="Retrieving an Object" class="md-nav__link">
    Retrieving an Object
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#retrieving-object-metadata-too" title="Retrieving Object Metadata Too" class="md-nav__link">
    Retrieving Object Metadata Too
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-an-object" title="Updating an Object" class="md-nav__link">
    Updating an Object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retrieving-an-object-version" title="Retrieving an Object Version" class="md-nav__link">
    Retrieving an Object Version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleting-an-object-version" title="Deleting an Object Version" class="md-nav__link">
    Deleting an Object Version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleting-an-object" title="Deleting an Object" class="md-nav__link">
    Deleting an Object
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="hatrac-how-to">Hatrac How-to<a class="headerlink" href="#hatrac-how-to" title="Permanent link">&para;</a></h1>
<p>This document assumes a basic familiarity with:</p>
<ul>
<li>HTTP protocol and web concepts</li>
<li>Object storage concepts</li>
<li>Command-line environments and the <code>curl</code> utility</li>
</ul>
<p>See the <a href="../REST-API/">REST API documentation</a> for a complete overview
of the supported resources and operations with detailed HTTP protocol
information.</p>
<h2 id="background">Background<a class="headerlink" href="#background" title="Permanent link">&para;</a></h2>
<p>Hatrac provides a client-controlled namespace hierarchy with
client-named objects containing arbitrary data content. In short, a
Hatrac namespace is similar to a directory in a traditional
filesystem, while a Hatrac object is similar to a file.</p>
<p>However, a single Hatrac object name may have multiple content
versions. Each version is given a unique, psuedo-random version
identifier when it is created. Any particular object version is
immutable and can only ever be seen with the same content that was
provided atomically when it was created. The bare object name
implicitly references the <em>latest</em> available version, while
version-qualified names reference the particular version no matter
what other updates are performed on the object.</p>
<h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h2>
<p>In the following examples, let's assume that Hatrac is deployed with a
webauthn2 configuration that uses local database
providers. Furthermore, assume that a test user <code>test-user-1</code> is
defined and has been assigned an attribute <code>my-admin-group</code>. For this
deployment, assume the hostname <code>server.example.org</code> is hosting the
service stack.</p>
<h3 id="deploying">Deploying<a class="headerlink" href="#deploying" title="Permanent link">&para;</a></h3>
<p>This command initializes the deployment so that users with the
<code>my-admin-group</code> attribute are granted full privileges on the root
namespace:</p>
<pre><code>hatrac-deploy "my-admin-group"
</code></pre>
<h3 id="authentication-using-database-providers">Authentication using Database Providers<a class="headerlink" href="#authentication-using-database-providers" title="Permanent link">&para;</a></h3>
<p>Hatrac currently depends on a sibling ERMrest deployment to have
access to its embedded webauthn2 security service for login. With the
webauthn2 <code>database</code> providers, we can login via the command-line by
sending an HTTP POST request with login form fields populated:</p>
<pre><code>curl -b ~/cookie -c ~/cookie \
  -d username=test-user-1 \
  -d password="my secret" \
  https://server.example.org/ermrest/authn/session
</code></pre>
<p>This command prints out the new session information as a JSON response
(with modified whitespace here for readability):</p>
<pre><code>{
  "attributes": [
    {"display_name": "my-admin-group", "id": "my-admin-group"}, 
    {"display_name": "test-user-1", "id": "test-user-1"}
  ], 
  "seconds_remaining": 1799, 
  "since": "2016-05-06 23:38:15.798275+00:00", 
  "expires": "2016-05-07 00:08:15.798275+00:00", 
  "client": {"display_name": "test-user-1", "id": "test-user-1"}
}
</code></pre>
<p>With other security providers, more effort is required to obtain the
equivalent <code>~/cookie</code> file needed for the rest of the examples below.</p>
<h3 id="listing-the-root-namespace">Listing the Root Namespace<a class="headerlink" href="#listing-the-root-namespace" title="Permanent link">&para;</a></h3>
<p>The root namespace is listed with an HTTP GET on the namespace URL:</p>
<pre><code>curl -b ~/cookie -c ~/cookie \
  https://server.example.org/hatrac/
</code></pre>
<p>The response represents the currently empty root namespace:</p>
<pre><code>[]
</code></pre>
<h3 id="creating-a-nested-namespace">Creating a Nested Namespace<a class="headerlink" href="#creating-a-nested-namespace" title="Permanent link">&para;</a></h3>
<p>The HTTP PUT operation with a special <code>Content-Type</code> header allows us
to create a new namespace with our own chosen name:</p>
<pre><code>curl -b ~/cookie -c ~/cookie \
  -H "Content-Type: application/x-hatrac-namespace" \
  -X PUT
  https://server.example.org/hatrac/folder1
</code></pre>
<p>The response repeats the name we have chosen for the new namespace:</p>
<pre><code>/hatrac/folder1
</code></pre>
<p>If you repeat the namespace listing step for the root namespace, this
time the response will enumerate the single child namespace:</p>
<pre><code>["/hatrac/folder1"]
</code></pre>
<h3 id="creating-an-object">Creating an Object<a class="headerlink" href="#creating-an-object" title="Permanent link">&para;</a></h3>
<p>First, let's create a test data file:</p>
<pre><code>cat &gt; hello.txt &lt;&lt;EOF
&gt; Line 1: Hello, World!
&gt; Line 2: That's all, Folks!
EOF
</code></pre>
<p>Now, let's upload it using the built-in support for file upload via
HTTP PUT using curl's <code>-T</code> transfer mode:</p>
<pre><code>curl -b ~/cookie -c ~/cookie \
  -H "Content-Type: text/plain" \
  -T hello.txt \
  https://server.example.org/hatrac/folder1/object1
</code></pre>
<p>The response repeats the object name we have chosen but qualifies it
with a server-generated <em>version ID</em>:</p>
<pre><code>/hatrac/folder1/object1:SP274AQOOO3TOXIS2BVSDA5HCE
</code></pre>
<h3 id="retrieving-an-object">Retrieving an Object<a class="headerlink" href="#retrieving-an-object" title="Permanent link">&para;</a></h3>
<p>A simple HTTP GET will retrieve an existing object's <em>current version</em>:</p>
<pre><code>curl -b ~/cookie -c ~/cookie \
  https://server.example.org/hatrac/folder1/object1
</code></pre>
<p>The response contains the object content itself:</p>
<pre><code>Line 1: Hello, World!
Line 2: That's all, Folks!
</code></pre>
<h4 id="retrieving-object-metadata-too">Retrieving Object Metadata Too<a class="headerlink" href="#retrieving-object-metadata-too" title="Permanent link">&para;</a></h4>
<p>We can also ask <code>curl</code> to dump the protocol headers with the response
on standard output using the <code>-D</code> flag:</p>
<pre><code>curl -b ~/cookie -c ~/cookie \
  -D - \
  https://server.example.org/hatrac/folder1/object1
</code></pre>
<p>The response contains the object content itself:</p>
<pre><code>HTTP/1.1 200 OK
Date: Fri, 06 May 2016 23:55:28 GMT
Content-Length: 49
Content-Disposition: filename*=UTF-8''object1
ETag: "SP274AQOOO3TOXIS2BVSDA5HCE"
Vary: cookie
Content-Type: text/plain; charset=UTF-8

Line 1: Hello, World!
Line 2: That's all, Folks!
</code></pre>
<p>The <code>ETag</code> header is used to inform the HTTP client about cache
validity. It happens to repeat the actual version ID but you SHOULD
NOT rely on this in any client application. The Hatrac service MAY use
other means for cache management in future revisions.</p>
<h3 id="updating-an-object">Updating an Object<a class="headerlink" href="#updating-an-object" title="Permanent link">&para;</a></h3>
<p>First, let's modify our existing data file:</p>
<pre><code>cat &gt;&gt; hello.txt &lt;&lt;EOF
&gt; Line 3: Well, I spoke too soon...
&gt; EOF
</code></pre>
<p>Now, let's upload it the same as before. The server will automatically
create a new version and update the <em>current version</em> to point to this
new one:</p>
<pre><code>curl -b ~/cookie -c ~/cookie \
  -H "Content-Type: text/plain" \
  -T hello.txt \
  https://server.example.org/hatrac/folder1/object1
</code></pre>
<p>The response repeats the object name we have chosen but qualifies it
with a server-generated <em>version ID</em>:</p>
<pre><code>/hatrac/folder1/object1:3VJO6XIPAGVBAGPUIOMG546SWU
</code></pre>
<p>If you repeat the step to retrieve object and metadata, you will see
the new content:</p>
<pre><code>HTTP/1.1 200 OK
Date: Sat, 07 May 2016 00:00:05 GMT
Content-Length: 83
Content-Disposition: filename*=UTF-8''object1
ETag: "3VJO6XIPAGVBAGPUIOMG546SWU"
Vary: cookie
Content-Type: text/plain; charset=UTF-8

Line 1: Hello, World!
Line 2: That's all, Folks!
Line 3: Well, I spoke too soon...
</code></pre>
<h3 id="retrieving-an-object-version">Retrieving an Object Version<a class="headerlink" href="#retrieving-an-object-version" title="Permanent link">&para;</a></h3>
<p>Simply by using the full version-qualified URL for the object, you can
retrieve the older version of the object:</p>
<pre><code>curl -b ~/cookie -c ~/cookie \
  -D - \
  https://server.example.org/hatrac/folder1/object1:SP274AQOOO3TOXIS2BVSDA5HCE
</code></pre>
<p>The response will familiar:</p>
<pre><code>HTTP/1.1 200 OK
Date: Sat, 07 May 2016 00:04:55 GMT
Content-Length: 49
Content-Disposition: filename*=UTF-8''object1
ETag: "SP274AQOOO3TOXIS2BVSDA5HCE"
Vary: cookie
Content-Type: text/plain; charset=UTF-8

Line 1: Hello, World!
Line 2: That's all, Folks!
</code></pre>
<h3 id="deleting-an-object-version">Deleting an Object Version<a class="headerlink" href="#deleting-an-object-version" title="Permanent link">&para;</a></h3>
<p>You can delete a specific object version and it will no longer be
available for retrieval.  If you delete the <em>current version</em>, the
object will automatically revert to the <em>latest</em> remaining version as
its new current version:</p>
<pre><code>curl -b ~/cookie -c ~/cookie \
  -X DELETE \
  https://server.example.org/hatrac/folder1/object1:3VJO6XIPAGVBAGPUIOMG546SWU
</code></pre>
<p>This operation has no response content.  If you now retrieve the
unqualified object name, you'll get the previous version again.</p>
<h3 id="deleting-an-object">Deleting an Object<a class="headerlink" href="#deleting-an-object" title="Permanent link">&para;</a></h3>
<p>You can delete the entire object and all of its versions at once:</p>
<pre><code>curl -b ~/cookie -c ~/cookie \
  -X DELETE \
  https://server.example.org/hatrac/folder1/object1
</code></pre>
<p>This operation has no response content.  If you now retrieve the
unqualified object name, you'll get a <code>404 Not Found</code> HTTP error.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../INSTALL/" title="Installing on Red Hat-derived Linux" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Installing on Red Hat-derived Linux
              </span>
            </div>
          </a>
        
        
          <a href="../REST-API/" title="Hatrac API and Service Semantics" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Hatrac API and Service Semantics
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 <a href="http://deriva.isi.edu">DERIVA</a>.
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      <div class="md-footer-logo">
        <img src="./images/deriva-h50-simple.png">
      </div>
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.a59e2a89.js"></script>
      
      <script>app.initialize({version:"0.17.4",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>